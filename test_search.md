# 图书搜索功能测试

## 新增功能说明

### 1. 搜索方式选择
- **书名搜索**：在图书名称中进行模糊搜索
- **索引号搜索**：支持图书索引号和副本号搜索（如 CS001 或 CS001_1）
- **全文搜索**：在所有字段（书名、作者、出版社、类别、地点、索引号）中进行模糊搜索

### 2. 模糊搜索功能
- 所有搜索都支持模糊匹配，不区分大小写
- 搜索结果会在索引号和书名列中高亮显示（粗体）
- 鼠标悬停在匹配项上可以看到详细信息

### 3. 索引号搜索精确到副本级别
- 支持完整的副本ID搜索（格式：图书索引号_副本号，如 CS001_1）
- 搜索副本ID时会显示对应的图书信息
- 副本搜索结果可以用于借阅管理

## 测试用例

### 测试数据（示例图书）：
- CS001 - C++程序设计教程
- CS002 - 数据结构与算法分析
- LIT001 - 红楼梦
- LIT002 - 百年孤独

### 测试场景：

1. **书名模糊搜索**
   - 搜索："C++" → 应该找到 CS001
   - 搜索："数据" → 应该找到 CS002
   - 搜索："红楼" → 应该找到 LIT001

2. **索引号搜索**
   - 搜索："CS" → 应该找到所有计算机类图书
   - 搜索："001" → 应该找到 CS001
   - 搜索："CS001_1" → 应该找到 CS001（通过副本搜索）

3. **全文搜索**
   - 搜索："程序" → 应该找到 CS001, CS002
   - 搜索："清华" → 应该找到清华大学出版社的图书
   - 搜索："图书馆" → 应该找到所有图书（因为馆藏地址包含图书馆）

4. **高亮显示验证**
   - 匹配的文本应该以粗体显示
   - 鼠标悬停应该显示带高亮标记的完整文本

## 使用方法

1. 运行程序：`cd build && ./clion_test.exe`
2. 在搜索栏左侧选择搜索方式
3. 输入搜索关键词
4. 点击搜索按钮或按回车键
5. 查看搜索结果和状态栏的匹配数量提示

## 技术实现

- **前端UI**：添加了 QComboBox 下拉框选择搜索方式
- **搜索引擎**：实现了基于关键词的模糊搜索算法
- **高亮显示**：使用 QFont 和 ToolTip 实现文本高亮效果
- **副本支持**：通过 BookCopyManager 支持副本级别的搜索

## 兼容性

- 保持与原有筛选功能（类别、状态、馆藏地址）的完全兼容
- 搜索结果会同时应用当前的筛选条件
- 支持与排序功能的组合使用